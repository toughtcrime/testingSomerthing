<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Telegram Web App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body>
    <h1>Telegram Web App Example</h1>
    <div id="content"></div>

    <script>
      // Initialize the Telegram Web App
      Telegram.WebApp.ready();

      // Check if initData contains any custom data
      const initData = Telegram.WebApp.initData;
      const initDataUnsafe = Telegram.WebApp.initDataUnsafe;

      // Try to get the `startapp` parameter from initData
      // Note: initData does not directly contain the URL params; it's a JSON string

      // If you've embedded data via initData, you'd parse it here
      // Example: passing custom data within initData through the bot (not always necessary)

      // If your URL parameters aren't in initData, you'll need to manually parse them
      const urlParams = new URLSearchParams(window.location.search);
      const startappValue = urlParams.get("startapp") || "default_value";

      console.log("Startapp Parameter:", startappValue);

      // Display the parameter value on the page (for demonstration)
      document.getElementById(
        "content"
      ).innerText = `Startapp Parameter: ${startappValue}`;

      // Use the parameter value as needed
    </script>
  </body>
</html>
